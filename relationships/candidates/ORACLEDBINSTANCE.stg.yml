category: ORACLEDBINSTANCE
lookups:
  # Primary lookup: Match by service.name and host.port (for OTEL Oracle instances with service name)
  - entityTypes:
    - domain: INFRA
      type: ORACLEDBINSTANCE
    tags:
      matchingMode: ALL
      predicates:
        - tagKeys: ["service.name"]
          field: serviceName
        - tagKeys: ["host.port"]
          field: hostPort
    onMatch:
     onMultipleMatches: RELATE_ALL
    onMiss:
      action: NO_OP
  # Secondary lookup: Match by host.address and host.port (for OTEL Oracle instances without service name)
  - entityTypes:
    - domain: INFRA
      type: ORACLEDBINSTANCE
    tags:
      matchingMode: ALL
      predicates:
        - tagKeys: ["host.address"]
          field: hostAddress
        - tagKeys: ["host.port"]
          field: hostPort
    onMatch:
     onMultipleMatches: RELATE_ALL
    onMiss:
      action: NO_OP
