category: MSSQLINSTANCE
lookups:
  - entityTypes:
      - domain: INFRA
        type: MSSQLINSTANCE
    tags:
      matchingMode: ALL
      predicates:
        - tagKeys: ["server.address"]
          field: serverAddress
        - tagKeys: ["server.port"]
          field: serverPort
    onMatch:
      onMultipleMatches: RELATE_ALL
    onMiss:
      action: NO_OP
  - entityTypes:
      - domain: INFRA
        type: MSSQLINSTANCE
    tags:
      matchingMode: ALL
      predicates:
        - tagKeys: ["host.name"]
          field: hostName
    onMatch:
      onMultipleMatches: RELATE_ALL
    onMiss:
      action: NO_OP
  - entityTypes:
    - domain: INFRA
      type: MSSQLINSTANCE
    tags:
      matchingMode: ALL
      predicates:
        - tagKeys: ["db.hostname"]
          field: dbHostname
        - tagKeys: ["server.port"]
          field: serverPort
    onMatch:
     onMultipleMatches: RELATE_ALL
    onMiss:
      action: NO_OP
