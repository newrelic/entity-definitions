agentVersion:
  title: Agent version
  unit: STRING
  tag:
    key: agentVersion
cpuUsage:
  goldenMetric: cpuUsage
  title: CPU usage (%)
  unit: PERCENTAGE
  queries:
    newRelic:
      select: average(host.cpuPercent)
      from: Metric
      eventId: entity.guid
    newRelicSample:
      select: average(cpuPercent)
      from: SystemSample
      eventId: entityGuid
    opentelemetry:
      select: average(1 - system.cpu.utilization) * 100
      where: state = 'idle'
      from: Metric
      eventId: entity.guid
memoryUsedPercent:
  goldenMetric: memoryUsage
  title: Memory used percent
  unit: PERCENTAGE
  query:
    from: Metric
    select: average(host.memoryUsedPercent)
    eventId: entity.guid
diskUsedPercent:
  goldenMetric: storageUsage
  title: Disk used percent
  unit: PERCENTAGE
  query:
    from: Metric
    select: average(host.diskUsedPercent)
    eventId: entity.guid
networkInHost:
  title: Network in host
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(host.net.receiveBytesPerSecond)
    eventId: entity.guid
  hidden: true
networkOutHost:
  title: Network out host
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(host.net.transmitBytesPerSecond)
    eventId: entity.guid
  hidden: true
networkTrafficHost:
  title: Network traffic host
  unit: BYTES_PER_SECOND
  derive: '@networkInHost + @networkOutHost'
  hidden: true
networkInEc2:
  title: Network in EC2
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(aws.ec2.NetworkIn)
    eventId: entity.guid
  hidden: true
networkOutEc2:
  title: Network out EC2
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(aws.ec2.NetworkOut)
    eventId: entity.guid
  hidden: true
networkTrafficEc2:
  title: Network traffic EC2
  unit: BYTES_PER_SECOND
  derive: (@networkInEc2 + @networkOutEc2) / 60
  hidden: true
networkInAzure:
  title: Network in Azure
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(azure.compute.virtualmachines.NetworkIn)
    eventId: entity.guid
  hidden: true
networkOutAzure:
  title: Network out Azure
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(azure.compute.virtualmachines.NetworkOut)
    eventId: entity.guid
  hidden: true
networkTrafficAzure:
  title: Network traffic Azure
  unit: BYTES_PER_SECOND
  derive: (@networkInAzure + @networkOutAzure) / 60
  hidden: true
networkInGcp:
  title: Network in GCP
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(gcp.compute.instance.network.received_bytes_count)
    eventId: entity.guid
  hidden: true
networkOutGcp:
  title: Network out GCP
  unit: BYTES_PER_SECOND
  query:
    from: Metric
    select: average(gcp.compute.instance.network.sent_bytes_count)
    eventId: entity.guid
  hidden: true
networkTrafficGcp:
  title: Network traffic GCP
  unit: BYTES_PER_SECOND
  derive: (@networkInGcp + @networkOutGcp) / 60
  hidden: true
networkTrafficOtel:
  title: Network traffic OTEL
  unit: BYTES_PER_SECOND
  hidden: true
  query:
    from: Metric
    select: average(system.network.io)
    eventId: entity.guid
networkTraffic:
  title: Network traffic
  unit: BYTES_PER_SECOND
  derive: '@networkTrafficEc2 || @networkTrafficAzure || @networkTrafficGcp || @networkTrafficHost || @networkTrafficOtel'