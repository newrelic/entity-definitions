domain: EXT
type: PIHOLE

synthesis:
  rules:
    # telemetry with piHoleName attribute
  - identifier: piHoleName
    name: piHoleName
    encodeIdentifierInGUID: true
    conditions:
    - attribute: piHoleName
    - attribute: piHoleName
      prefix: ph1

    # telemetry from prometheus exporter
  - identifier: hostname
    name: hostname
    encodeIdentifierInGUID: true
    conditions:
    - attribute: metricName
      prefix: pihole_
    - attribute: hostname
      prefix: ph1
  tags:
    instrumentation.provider:
    instrumentation.name:

dashboardTemplates:
  newRelic:
    template: dashboard.json

configuration:
  entityExpirationTime: EIGHT_DAYS
  alertable: true
