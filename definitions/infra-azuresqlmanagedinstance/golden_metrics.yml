averageCpu:
  title: Average CPU (%)
  queries:
    aws:
      select: average(azure.sql.managedinstances.avg_cpu_percent)
      from: Metric
      eventId: entity.guid
      eventName: entity.name
    awsSample:
      select: average(avgCpuPercent.Average)
      from: AzureSqlManagedInstanceSample
      eventId: entityGuid
      eventName: entityName
storageSpaceUsedMb:
  title: Storage space used (MB)
  queries:
    aws:
      select: sum(azure.sql.managedinstances.storage_space_used_mb)
      from: Metric
      eventId: entity.guid
      eventName: entity.name
    awsSample:
      select: sum(storageSpaceUsed.Total)
      from: AzureSqlManagedInstanceSample
      eventId: entityGuid
      eventName: entityName
totalIoRequests:
  title: Total IO requests
  queries:
    aws:
      select: sum(azure.sql.managedinstances.io_requests)
      from: Metric
      eventId: entity.guid
      eventName: entity.name
    awsSample:
      select: sum(ioRequests.Total)
      from: AzureSqlManagedInstanceSample
      eventId: entityGuid
      eventName: entityName
