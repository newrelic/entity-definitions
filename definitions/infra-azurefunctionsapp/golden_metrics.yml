functionExecutionCount:
  title: Executions
  queries:
    aws:
      select: sum(azure.web.sites.FunctionExecutionCount)
      from: Metric
      eventId: entity.guid
      eventName: entity.name
    awsSample:
      select: sum(functionExecutionCount.Total)
      from: AzureFunctionsAppSample
      eventId: entityGuid
      eventName: entityName
errors:
  title: Errors
  queries:
    aws:
      select: sum(azure.web.sites.Http5xx.byFunctionsApp)
      from: Metric
      eventId: entity.guid
      eventName: entity.name
    awsSample:
      select: sum(`http5xx.Total`)
      from: AzureFunctionsAppSample
      eventId: entityGuid
      eventName: entityName
averageResponseTimeS:
  title: Average response time (s)
  queries:
    aws:
      select: sum(azure.web.sites.FunctionExecutionUnits)
      from: Metric
      eventId: entity.guid
      eventName: entity.name
    awsSample:
      select: sum(functionExecutionUnits.Total)
      from: AzureFunctionsAppSample
      eventId: entityGuid
      eventName: entityName
averageMemoryWorkingSetBytes:
  title: Average memory working set (Bytes)
  queries:
    aws:
      select: average(azure.web.sites.AverageMemoryWorkingSet.byFunctionsApp)
      from: Metric
      eventId: entity.guid
      eventName: entity.name
    awsSample:
      select: average(averageMemoryWorkingSetBytes.Average)
      from: AzureFunctionsAppSample
      eventId: entityGuid
      eventName: entityName
