domain: EXT
type: PIHOLE

synthesis:
  rules:
    # telemetry with piHoleName attribute
  - ruleName: ext_pihole_piHoleName
    identifier: piHoleName
    name: piHoleName
    encodeIdentifierInGUID: true
    conditions:
    - attribute: piHoleName

    # telemetry from prometheus exporter
  - ruleName: ext_pihole_hostname
    identifier: hostname
    name: hostname
    encodeIdentifierInGUID: true
    conditions:
    - attribute: metricName
      prefix: pihole_
  tags:
    instrumentation.provider:
    instrumentation.name:

dashboardTemplates:
  newRelic:
    template: dashboard.json

configuration:
  entityExpirationTime: EIGHT_DAYS
  alertable: true

ownership:
  primaryOwner:
    teamName: "NewRelic Community"
