sotecServices:
  title: Sotec Services
  unit: COUNT
  queries:
    newRelic:
      select: uniqueCount(name)
      from: Metric
      where: metricName = 'windows_running_services' AND name = 'sotec.instore.service' AND windows_running_services IS NOT NULL AND device.type = 'EPR'
      facet: store.number

sqlexpressServices:
  title: SqlExpress Services
  unit: COUNT
  queries:
    newRelic:
      select: uniqueCount(name)
      from: Metric
      where: metricName = 'windows_running_services' AND name = 'mssql$sqlexpress' AND windows_running_services IS NOT NULL AND device.type = 'EPR'
      facet: store.number

cpuUsage:
  title: CPU usage (%)
  unit: PERCENTAGE
  queries:
    newRelic:
      select: average(cpuPercent)
      from: SystemSample
      where: device.type = 'EPR'
      facet: store.number

memoryUsage:
  title: Memory usage (%)
  unit: PERCENTAGE
  queries:
    newRelic:
      select: average(memoryUsedPercent)
      from: SystemSample
      where: device.type = 'EPR'
      facet: store.number

storageUsage:
  title: Storage usage (%)
  unit: PERCENTAGE
  queries:
    newRelic:
      select: average(diskUsedPercent)
      from: StorageSample
      where: device.type = 'EPR'
      facet: store.number
