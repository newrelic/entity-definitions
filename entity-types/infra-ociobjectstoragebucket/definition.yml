domain: INFRA
type: OCIOBJECTSTORAGEBUCKET
goldenTags:
- oci.compartmentId
- oci.region
- oci.availabilityDomain
- oci.name
configuration:
  entityExpirationTime: DAILY
  alertable: true
synthesis:
  tags:
    newrelic.cloudIntegrations.providerAccountName:
      entityTagNames: [newrelic.cloudIntegrations.providerAccountName, providerAccountName]
      multiValue: false
  rules:
  - ruleName: infra_ociobjectstoragebucket_oci_resourceID
    identifier: oci.resourceID
    name: oci.resourceDisplayName
    legacyFeatures:
      overrideGuidType: true
    encodeIdentifierInGUID: true
    conditions:
    - attribute: oci.resourceID
      prefix: "ocid1.bucket"
    - attribute: oci.namespace
      value: "oci_objectstorage"
  # Synthesis out of logs. Ref: https://docs.oracle.com/en-us/iaas/Content/Logging/Reference/details_for_object_storage.htm
  - ruleName: infra_ociobjectstoragebucket_data_bucketId
    identifier: data.bucketId
    name: data.bucketName
    legacyFeatures:
      overrideGuidType: true
    encodeIdentifierInGUID: true
    conditions:
      - attribute: eventType
        prefix: Log
      - attribute: data.bucketId
        prefix: ocid1.bucket.
      - attribute: type
        prefix: com.oraclecloud.objectstorage.

ownership:
  primaryOwner:
    teamName: "no owner"
