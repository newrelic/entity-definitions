{
  "name": "Calico Metrics Dashboard",
  "description": "A dashboard for monitoring Calico metrics.",
  "pages":
    [
      {
        "name": "Calico Overview",
        "description": null,
        "widgets":
          [
            {
              "title": "",
              "layout": { "column": 1, "row": 1, "width": 2, "height": 3 },
              "visualization": { "id": "viz.markdown" },
              "rawConfiguration":
                {
                  "text": "![Calico Logo](https://raw.githubusercontent.com/tigera/docs/refs/heads/main/static/img/calico-logo.svg)\n\n# Calico Dashboard\n\nMetrics for the Calico networking and security solution."
                }
            },
            {
              "title": "Number of calico hosts",
              "layout": { "column": 3, "row": 1, "width": 3, "height": 3 },
              "visualization": { "id": "viz.billboard" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT latest(felix_cluster_num_hosts) AS 'Number of Calico Hosts' FROM Metric"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Cluster workload endpoints",
              "layout": { "column": 6, "row": 1, "width": 3, "height": 3 },
              "visualization": { "id": "viz.billboard" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT latest(felix_cluster_num_workload_endpoints) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Cluster host endpoints",
              "layout": { "column": 9, "row": 1, "width": 4, "height": 3 },
              "visualization": { "id": "viz.billboard" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT latest(felix_cluster_num_host_endpoints) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Active policies",
              "layout": { "column": 1, "row": 4, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT latest(felix_active_local_policies) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Active IP sets",
              "layout": { "column": 7, "row": 4, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT latest(felix_ipsets_calico) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Active local endpoints",
              "layout": { "column": 1, "row": 8, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT latest(felix_active_local_endpoints) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Active local selectors",
              "layout": { "column": 7, "row": 8, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT latest(felix_active_local_selectors) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Dataplane failed updates",
              "layout": { "column": 1, "row": 12, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT sum(felix_int_dataplane_failures) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "IP set command failures",
              "layout": { "column": 7, "row": 12, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT sum(felix_ipset_errors) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Felix resyncing datastore",
              "layout": { "column": 1, "row": 16, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT sum(felix_resyncs_started) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Cluster wide policies",
              "layout": { "column": 7, "row": 16, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "FROM Metric Select latest(felix_cluster_num_policies) TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Active iptables chains by type",
              "layout": { "column": 1, "row": 20, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT latest(felix_iptables_chains) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Active iptables rules by type",
              "layout": { "column": 7, "row": 20, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT latest(felix_iptables_rules) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Iptables restore errors",
              "layout": { "column": 1, "row": 24, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT sum(felix_iptables_restore_errors) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Iptables save errors",
              "layout": { "column": 7, "row": 24, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT sum(felix_iptables_save_errors) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Calico BPF",
              "layout": { "column": 1, "row": 28, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT latest(felix_bpf_dataplane_endpoints) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "Failed BPF endpoints",
              "layout": { "column": 7, "row": 28, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT latest(felix_bpf_dirty_dataplane_endpoints) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            },
            {
              "title": "BPF IPsets",
              "layout": { "column": 1, "row": 32, "width": 6, "height": 4 },
              "visualization": { "id": "viz.line" },
              "rawConfiguration":
                {
                  "nrqlQueries":
                    [
                      {
                        "accountId": 0,
                        "query": "SELECT latest(felix_bpf_num_ip_sets) FROM Metric TIMESERIES"
                      }
                    ],
                  "yAxisLeft": { "zero": true }
                }
            }
          ]
      }
    ]
}
