domain: EXT
type: KEDA
synthesis:
  rules:
    # prometheus and otel
    - identifier: "app_kubernetes_io_name"
      encodeIdentifierInGUID: true
      name: "app_kubernetes_io_name"
      conditions:
        - attribute: metricName
          value: "keda_build_info"

  tags:
    # prometheus
    cluster_name:
      entityTagName: k8s.clusterName
    namespace:
      entityTagName: k8s.namespaceName
    node:
      entityTagName: k8s.nodeName
    pod:
      entityTagName: k8s.podName

    # otel
    k8s.cluster.name:
      entityTagName: k8s.clusterName
    k8s.namespace.name:
      entityTagName: k8s.namespaceName
    k8s.node.name:
      entityTagName: k8s.nodeName
    k8s.pod.name:
      entityTagName: k8s.podName

dashboardTemplates:
  prometheus:
    template: dashboard.stg.json

configuration:
  entityExpirationTime: EIGHT_DAYS
  alertable: true
